"use strict";(self.webpackChunkservice_tracker=self.webpackChunkservice_tracker||[]).push([[233],{233:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var r=n(294),a=n(120),l=n(848),i=n(395),o=n(135),u=n(462),s=n(366);const c=r.useLayoutEffect;var d=function(e,t){"function"!=typeof e?e.current=t:e(t)};const m=function(e,t){var n=(0,r.useRef)();return(0,r.useCallback)((function(r){e.current=r,n.current&&d(n.current,null),n.current=t,t&&d(t,r)}),[t])};var f={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},p=function(e){Object.keys(f).forEach((function(t){e.style.setProperty(t,f[t],"important")}))},b=null,v=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize};var h=function(){},y=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],g=!!document.documentElement.currentStyle;function w(e,t,n){var a,l,i=(a=n,l=r.useRef(a),c((function(){l.current=a})),l);(0,r.useLayoutEffect)((function(){var n=function(e){return i.current(e)};return e.addEventListener(t,n),function(){return e.removeEventListener(t,n)}}),[])}var E=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],S=function(e,t){var n=e.cacheMeasurements,a=e.maxRows,l=e.minRows,i=e.onChange,o=void 0===i?h:i,c=e.onHeightChange,d=void 0===c?h:c,f=(0,s.Z)(e,E);var S=void 0!==f.value,x=(0,r.useRef)(null),_=m(x,t),C=(0,r.useRef)(0),N=(0,r.useRef)(),k=function(){var e=x.current,t=n&&N.current?N.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,y.reduce((function(e,t){return e[t]=n[t],e}),{})),a=r.boxSizing;return""===a?null:(g&&"border-box"===a&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){N.current=t;var r=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),b||((b=document.createElement("textarea")).setAttribute("tabindex","-1"),b.setAttribute("aria-hidden","true"),p(b)),null===b.parentNode&&document.body.appendChild(b);var a=e.paddingSize,l=e.borderSize,i=e.sizingStyle,o=i.boxSizing;Object.keys(i).forEach((function(e){var t=e;b.style[t]=i[t]})),p(b),b.value=t;var u=v(b,e);b.value=t,u=v(b,e),b.value="x";var s=b.scrollHeight-a,c=s*n;"border-box"===o&&(c=c+a+l),u=Math.max(c,u);var d=s*r;return"border-box"===o&&(d=d+a+l),[u=Math.min(d,u),s]}(t,e.value||e.placeholder||"x",l,a),i=r[0],o=r[1];C.current!==i&&(C.current=i,e.style.setProperty("height",i+"px","important"),d(i,{rowHeight:o}))}};return(0,r.useLayoutEffect)(k),w(window,"resize",k),function(e){w(document.fonts,"loadingdone",e)}(k),(0,r.createElement)("textarea",(0,u.Z)({},f,{onChange:function(e){S||k(),o(e)},ref:_}))};const x=(0,r.forwardRef)(S);var _=n(265),C=n(920),N=n(893),k=n(434);function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l,i,o=[],u=!0,s=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=l.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(e){s=!0,a=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e){var t=e.id,n=(e.id_case,e.id_user),a=e.created_at,l=e.text,u=((0,r.useContext)(i.Z),(0,r.useContext)(o.Z)),s=u.deleteStatus,c=u.editStatus,d=z((0,r.useState)(!1),2),m=d[0],f=d[1],p=z((0,r.useState)(l),2),b=p[0],v=p[1];return wp.element.createElement("div",{className:"status"},wp.element.createElement("div",{className:"date-edit"},wp.element.createElement("div",{className:"date"},wp.element.createElement("small",null,(0,C.ZP)(a,"dd/mm/yyyy, HH:MM")," id ",t)),wp.element.createElement("div",{className:"edit"},wp.element.createElement(N.vPQ,{"data-tip":data.tip_edit_status,onClick:function(){return f(!m)},className:"status-icon"})),wp.element.createElement("div",{className:"delete"},wp.element.createElement(k.FH3,{"data-tip":data.tip_delete_status,onClick:function(){return s(t,a)},className:"status-icon"}))),wp.element.createElement("div",{className:"record"},wp.element.createElement("div",{className:"status-text"},!m&&wp.element.createElement("p",null,l),m&&wp.element.createElement("form",null,wp.element.createElement(x,{onChange:function(e){return v(e.target.value)},readOnly:!m,className:m?"status-textarea":"status-textarea remove-border",defaultValue:l}),m&&wp.element.createElement(r.Fragment,null,wp.element.createElement("button",{className:"btn btn-save",onClick:function(e){e.preventDefault(),c(t,n,b),f(!m)}},data.btn_save_changes_status),wp.element.createElement("button",{className:"btn btn-dismiss",onClick:function(e){f(!m)}},data.btn_dismiss_edit))))))}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}function R(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l,i,o=[],u=!0,s=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=l.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(e){s=!0,a=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return o}}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(){var e=(0,r.useContext)(i.Z),t=(0,r.useContext)(o.Z),n=t.state,u=t.postStatus,s=F((0,r.useState)(!1),2),c=s[0],d=s[1],m=F((0,r.useState)(""),2),f=m[0],p=m[1];if("progress"!==e.state.view)return wp.element.createElement(r.Fragment,null);if(n.loadingStatus)return wp.element.createElement(_.Z,null);var b=e.state.caseId,v=e.state.userId,h=R(n.status);return wp.element.createElement(r.Fragment,null,wp.element.createElement("h3",{style:{marginTop:"0"}},data.title_progress_page," ",n.caseTitle),wp.element.createElement("button",{onClick:function(e){e.preventDefault(),d(!c)},className:c?"btn btn-dismiss":"btn btn-save"},c?data.close_box_btn:data.new_status_btn),wp.element.createElement(l.Z,{in:c,timeout:400,classNames:"editing",unmountOnExit:!0},wp.element.createElement("div",{className:"status-add-new-container"},wp.element.createElement("form",null,wp.element.createElement(x,{onChange:function(e){p(e.target.value)},className:"status-add-new-textarea",value:f}),wp.element.createElement("button",{className:"btn btn-save",onClick:function(e){e.preventDefault(),""!==f.trim()?(u(v,b,f.trim()),p("")):alert(data.alert_blank_status_title)}},data.add_status_btn)))),wp.element.createElement("div",{className:"statuses-container"},h.length<=0&&wp.element.createElement("h3",null,data.no_progress_yet),h.length>0&&h.map((function(e,t){return wp.element.createElement(j,O({key:t},e))}))),wp.element.createElement(a.u,{place:"left",type:"dark",effect:"solid","data-delay-show":"1000"}))}},265:(e,t,n)=>{n.d(t,{Z:()=>r});n(294);function r(){return wp.element.createElement("div",{className:"spinner-container"},wp.element.createElement("div",{className:"lds-ellipsis"},wp.element.createElement("div",null),wp.element.createElement("div",null),wp.element.createElement("div",null),wp.element.createElement("div",null)))}},395:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n(294).createContext)()},135:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n(294).createContext)()}}]);